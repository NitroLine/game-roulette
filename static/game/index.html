<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <link href="../css/style.css" rel="stylesheet">
    <link href="../css/chat.css" rel="stylesheet">
    <link href="../css/modal.css" rel="stylesheet">
    <script crossorigin="anonymous" src="../js/lib/fontawesome.js"></script>
    <title>Game</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unpkg.com/peerjs@1.3.1/dist/peerjs.min.js"></script>
    <script crossorigin="anonymous"
            integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2"
            src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
</head>
<body>

<div id="grid">
    <div class="block" id="menu">
        <div id="status">Setting up camera...</div>
    </div>
    <div class="block" id="live">
        <div class="video-el remote-player">
            <video autoplay class="video-inside " style="display: none" id="remote-video"></video>
            <div class="round-control close-video-control" onclick="toggleRemoteVideo()" id="block_remote_btn" style="display:none;"><i class="fas icon fa-video" id="show_icon"></i></div>
            <img src="../assets/no_video.png" class="video-inside" alt="no video" id="no_video_remote" style="display: none">
            <img src="../assets/noise_gif.gif" class="video-inside" alt="niose" id="noise_remote">
        </div>
        <div class="video-el local-player">
            <video autoplay class="video-inside" id="local-video" muted style="display: none"></video>
            <img src="../assets/noise_gif.gif" class="video-inside" alt="niose" id="noise_local">
            <img src="../assets/no_video.png" class="video-inside" alt="no video" id="no_video_local" style="display: none">
        </div>
        <div class="controls" >
            <div class="device-select-panel hidden" id="device_panel">
                <div class="device-select-row">
                    <label for="audioSource"><i class="fas fa-microphone"></i></label>
                    <select id="audioSource" class="devices" onchange="changeDevice()">

                    </select>
                </div>
                <div class="device-select-row">
                    <label for="videoSource"><i class="fas fa-video"></i></label>
                    <select id="videoSource" class="devices" onchange="changeDevice()">

                    </select>
                </div>
            </div>
            <div class="round-control" onclick="toggleMic()"><i class="fas icon fa-microphone" id="mic_icon"></i></div>
            <div class="round-control disable-action" onclick="toggleLocalVideo()" id="camera_disable"><i class="fas icon fa-video " id="camera_icon"></i></div>
            <div class="round-control disable-action" id="device_toggler"><i class="fas icon fa-bars"></i></div>
        </div>
        <div class="controls">
            <button class="btn" disabled id="start_btn"> Ready</button>
            <a class="btn" href="/">Exit</a>
        </div>
    </div>
    <div class="block" id="chat-area">
        <div class="chat-inside" id="messages">

        </div>
        <div class="chat-fill">
            <div class="chat-write">
                <textarea class="emoji-face" id="inputmess" maxlength="2500"
                          placeholder="Отправить сообщение ..."></textarea>
            </div>
        </div>
    </div>
    <div class="block" id="game-block">
        <div class="players-names" id="enemy-name">EnemyName</div>
        <div id="game"></div>
        <div class="players-names" id="player-name">PlayerName</div>
    </div>
</div>
<div id="modal-container">
    <div class="modal-background">
        <div class="modal">
            <h2 class="modal-message" id="modal-message">You win!</h2>
            <p id="modal-info"></p>
            <button class="btn"
                    onclick="document.getElementById('modal-container').classList.add('out'); document.getElementsByTagName('body')[0].className='';">
                Continue
            </button>
        </div>
    </div>
</div>

<div id="audios">
    <audio id="start-game-sound">
        <source src="../assets/audio/start_game.mp3" type="audio/mp3">
    </audio>
    <audio id="game-over-sound">
        <source src="../assets/audio/game-over.mp3" type="audio/mp3">
    </audio>
</div>

<div id="scripts">
    <script src="../js/VideoClient.js"></script>
    <script src="../js/client.js"></script>
    <script src="../js/video_chat.js"></script>
</div>
</body>
</html>